<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
	<title>正規表現で検索</title>
<script type="text/javascript">
<!--
// コピー元：http://shain.blog.conextivo.com/2007/04/javascript_matchsearchtestexec.html
// 2009/04/28 y.ikeda

// match()の場合
function hoge1() {
    base_str = "オッス。おら Tawabagani。"
             + "友人の Abeshiganiと間違えないでくれよな。";
    match_pattern = /\w+?gani/g;
    r = base_str.match(match_pattern);
    if (r) {
        for(var i=0; i<r.length; i++) {
            alert(r[i]);
        }
    } else {
        alert("該当なし");
    }
}
// search()の場合
function hoge2() {
    base_str = "オッス。おら Tawabagani。"
             + "友人の Abeshiganiと間違えないでくれよな。";
    match_pattern = /\w+?gani/g;
    r = base_str.search(match_pattern);
    alert(r);
}
// test()の場合
function hoge3() {
    base_str = "オッス。おら Tawabagani。"
             + "友人の Abeshiganiと間違えないでくれよな。";
    match_pattern = /\w+?gani/g;
    r = match_pattern.test(base_str);
    alert(r);
    r = match_pattern.test(base_str);
    alert(r);
    r = match_pattern.test(base_str);
    alert(r);
}
// exec()の場合
function hoge4() {
    base_str = "オッス。おら Tawabagani。"
             + "友人の Abeshiganiと間違えないでくれよな。";
    match_pattern = /\w+?gani/g;
    r = match_pattern.exec(base_str);
    alert(r);
    // 何文字目？(最後に見つかった文字列の直後の位置)
    alert(r.lastIndex);
    r = match_pattern.exec(base_str);
    alert(r);
    // 何文字目？(最後に見つかった文字列の直後の位置)
    alert(r.lastIndex);
    r = match_pattern.exec(base_str);
    if (r) {
        alert(r);
        // 何文字目？(最後に見つかった文字列の直後の位置)
        alert(r.lastIndex);
    } else {
        alert("該当なし");
    }
}
//-->
</script>
</head>

<body>
	<input type="button" value="hoge1" onClick="hoge1();" /><br />
	<input type="button" value="hoge2" onClick="hoge2();" /><br />
	<input type="button" value="hoge3" onClick="hoge3();" /><br />
	<input type="button" value="hoge4" onClick="hoge4();" /><br />
</body>

</html>
